<Project>
  <PropertyGroup>
    <MSBuildTfm Condition="'$(MSBuildRuntimeType)' == 'Core'">netcoreapp2.1</MSBuildTfm>
    <MSBuildTfm Condition="'$(MSBuildRuntimeType)' != 'Core'">net472</MSBuildTfm>

    <_WindowsDesktopToolsPlaceholderTempFile>$([System.IO.Path]::GetTempFileName())</_WindowsDesktopToolsPlaceholderTempFile>
    <_WindowsDesktopToolsTempPath Condition="'$(_WindowsDesktopToolsTempPath)' == ''">$(_WindowsDesktopToolsPlaceholderTempFile)\$(MSBuildTfm)\</_WindowsDesktopToolsTempPath>
    <_PresentationBuildTasksAssembly Condition="'$(_PresentationBuildTasksAssembly)'==''">$(_WindowsDesktopToolsTempPath)PresentationBuildTasks.dll</_PresentationBuildTasksAssembly>

    <_MonoCecilDirectory>$(_WindowsDesktopToolsTempPath)MonoCecil\</_MonoCecilDirectory>
  </PropertyGroup>

  <PropertyGroup>
    <_MonoCecilVersion>0.11.2</_MonoCecilVersion>
    <_SystemReflectionMetadataLoadContextVersion>4.7.1</_SystemReflectionMetadataLoadContextVersion>
  </PropertyGroup>
  <PropertyGroup>
    <RestoreAdditionalProjectSources>
      https://pkgs.dev.azure.com/dnceng/public/_packaging/darc-pub-dotnet-corefx-e946cebe-1/nuget/v3/index.json;
      $(RestoreAdditionalProjectSources)
      </RestoreAdditionalProjectSources>
  </PropertyGroup>
  <ItemGroup>
    <PackageReference Include="System.Reflection.MetadataLoadContext" Version="$(_SystemReflectionMetadataLoadContextVersion)">
      <GeneratePathProperty>true</GeneratePathProperty>
      <IncludeAssets>none</IncludeAssets>
      <ExcludeAssets>all</ExcludeAssets>
    </PackageReference>

    <PackageReference Include="Mono.Cecil" Version="$(_MonoCecilVersion)">
      <GeneratePathProperty>true</GeneratePathProperty>
      <IncludeAssets>none</IncludeAssets>
      <ExcludeAssets>all</ExcludeAssets>
    </PackageReference>
  </ItemGroup>

  <PropertyGroup>
    <_SystemReflectionMetadataLoadContextTfm Condition="'$(MSBuildRuntimeType)' == 'Core'">netcoreapp3.0</_SystemReflectionMetadataLoadContextTfm>
    <_SystemReflectionMetadataLoadContextTfm Condition="'$(MSBuildRuntimeType)' != 'Core'">netstandard2.0</_SystemReflectionMetadataLoadContextTfm>

    <_MonoCecilTfm Condition="'$(MSBuildRuntimeType)' == 'Core'">netstandard2.0</_MonoCecilTfm>
    <_MonoCecilTfm Condition="'$(MSBuildRuntimeType)' != 'Core'">net40</_MonoCecilTfm>
  </PropertyGroup>

</Project>